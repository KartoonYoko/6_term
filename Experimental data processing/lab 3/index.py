import matplotlib.pyplot as plt
import math


# variant 17

# –¶ –µ –ª —å —Ä –∞ –± –æ —Ç —ã: –æ–≤–ª–∞–¥–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞–º–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ª–∏–Ω–µ–π–Ω–æ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è –Ω–µ—Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
# –¥–∞–Ω–Ω—ã—Ö, –≤—ã—Ä–∞–±–æ—Ç–∫–∞ —É–º–µ–Ω–∏—è –∏ –Ω–∞–≤—ã–∫–æ–≤ –æ—Ü–µ–Ω–∫–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏, —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∏ –µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤.
# –° –æ –¥ –µ —Ä –∂ –∞ –Ω –∏ –µ  –∞ –± –æ —Ç —ã: –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –æ–ø—ã—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è:
#  –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ. –ü–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ç–æ—á–µ–∫ –≤ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–º –ø–æ–ª–µ –≤—ã–±—Ä–∞—Ç—å
#  –æ–±—â–∏–π –≤–∏–¥ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏.
# 2. –í—ã—á–∏—Å–ª–∏—Ç—å —á–∏—Å–ª–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ "x" ¬†ÃÖ, "y" ¬†ÃÖ, „Äñ" S" „Äó_"x" , "S" _"y" , r, ùúé_"r" .
# 3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ r –∏ –Ω–∞–π—Ç–∏ –¥–ª—è –Ω–µ–≥–æ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é …£=0,95.
# 4. –ù–∞–ø–∏—Å–∞—Ç—å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ª–∏–Ω–∏–π —Ä–µ–≥—Ä–µ—Å—Å–∏–π y –Ω–∞ x –∏ x–Ω–∞ y.
# 5. –í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏–∏ "R" ^2 –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å –µ–≥–æ —Å–º—ã—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ y –Ω–∞ x
# 7. –ü—Ä–æ–≤–µ—Å—Ç–∏ –æ—Ü–µ–Ω–∫—É –≤–µ–ª–∏—á–∏–Ω—ã –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ y
# –Ω–∞ x –∏ –µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤.
# 8. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ y –Ω–∞ x –≤ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

# –§–∞–∑–æ–≤–∞—è –ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç—å –Ω–µ—Ñ—Ç–∏ –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å –ø–æ—Ä–æ–¥—ã –Ω–µ—Ñ—Ç—å—é
# –• —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
# X 0.05 0.15 0.25 0.35 0.45 0.55 0.65 0.75 0.85 0.95
# Y 0.35 0.45 0.55 0.65 0.75 0.80 0.85 0.95 1.00 1.25

x_arr = [0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95]
y_arr = [0.35, 0.45, 0.55, 0.65, 0.75, 0.80, 0.85, 0.95, 1.00, 1.25]

# —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ X Y
x_average = sum(x_arr) / len(x_arr)
y_average = sum(y_arr) / len(y_arr)

# —Ä–∞—Å—á–µ—Ç S^2x S^2y –≤—ã–±–æ—Ä–æ—á–Ω—ã–µ —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
s2x = 0
s2y = 0
for i in range(len(x_arr)):
    s2x += (x_arr[i] - x_average) ** 2
    s2y += (y_arr[i] - y_average) ** 2
s2x /= len(x_arr) - 1
s2y /= len(y_arr) - 1
sx = math.sqrt(s2x)
sy = math.sqrt(s2y)

# —Ä–∞—Å—á–µ—Ç xy- r
xy_average = 0
for i in range(len(x_arr)):
    xy_average += x_arr[i] * y_arr[i]
xy_average /= len(x_arr)
r = (xy_average - x_average * y_average) / (sx * sy)      # –∫–æ—ç—Ñ –ª–∏–Ω–µ–π–Ω–æ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏

# –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –∫–æ—ç—Ñ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
tp = round((math.fabs(r) * math.sqrt(len(x_arr) - 2)) / math.sqrt(1 - r ** 2), 2)
print("tp = ", tp , "t = 2.31")

plt.plot(x_arr, y_arr, 'ro', color="gray")
plt.xlabel('X')
plt.ylabel('Y')
plt.title('–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å')
plt.grid()      # –≤–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ—Ç–∫–∏
plt.show()


